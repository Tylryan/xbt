/* 
 * RULE: This is a concept, not an actual file or anything.
 * - build_files: Files to watch for changes.
 * - output_files: Files produced by 'build_files'.
 * - $ : This indicates a shell command.
 */

rule All {
 	/* Tests Antlr First. If no dependencies are
 	 * declared, then the program will test each
 	 * rule in reverse order. In this example, Antlr
 	 * would be tested first anyways and only executed
 	 * if needed.
 	 */

    /* TODO(tyler): Add support for multiple files. */
    
    build_files  = "lexer/XbtLexer.g4"
    output_files = "lexer/XbtLexer.tokens"
 
    /* TODO(tyler): Eventually add support for '$^' and '$@' */
	/* $ echo antlr4 lexer/XbtLexer.g4 -Dlanguage=Python3 */
	$ antlr4 lexer/XbtLexer.g4 -Dlanguage=Python3

}

rule Fake {
    build_files  = "lexer/XbtLexer.g4"
    output_files = "lexer/XbtLexer.tokens"

    $ echo "Running fake rule"
}